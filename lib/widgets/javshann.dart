import 'package:flutter/material.dart';
import 'package:google_fonts/google_fonts.dart';
import 'package:sabr/widgets/app_drawer.dart';

class JavshannPage extends StatefulWidget {
  final TextStyle? textStyle;

  const JavshannPage({super.key, this.textStyle});

  @override
  // ignore: library_private_types_in_public_api
  _JavshannPageState createState() => _JavshannPageState();
}

class _JavshannPageState extends State<JavshannPage> {
  int _pageNumber = 1;
  String _appBarTitle = '1 - баб';
  String _text = '''
Аллахумма иннии ас'алука би асмааика

1. Йаа Аллах
2. Йаа Рахмаан
3. Йаа Рахиим
4. Йаа ЪАлиим
5. Йаа Халиим
6. Йаа ЪАзиим
7. Йаа Хакиим
8. Йаа Кодиим 
9. Йаа Мукиим
10. Йаа Кариим

Субхаанака йаа лаа илааһа иллаа антал амаанал
амаана холлиснаа минан-наар
''';

  final List<String> _texts = [
    '''
Аллахумма иннии ас'алука би асмааика
1. Йаа Аллах
2. Йаа Рахмаан
3. Йаа Рахиим
4. Йаа ЪАлиим
5. Йаа Халиим
6. Йаа ЪАзиим
7. Йаа Хакиим
8. Йаа Кодиим 
9. Йаа Мукиим
10. Йаа Кариим

Субхаанака йаа лаа илааһа иллаа антал амаанал
амаана холлиснаа минан-наар ''',
    '''1. Йаа Саййидас-саадаат
2. Йаа Мужиибад-даъаваат
3. Йаа Валиййал-хасанаат
4. Йаа Рафиъад-даражаат
5. Йаа ЪАзиимал-баракаат
6. Йаа Гоофирал-хатииаат
7. Йаа Даафиъал-балиййаат
8. Йаа Саамиъал-асваат
9. Йаа Муътыйал-масуулаат
10. Йаа ЪАалимас-сирри вал-хофиййаат
 
 
 Субхаанака йаа лаа илааһа иллаа антал амаанал
амаана холлиснаа минан-наар ''',
    '''1. Йаа Хойрол Гоофириин
2. Йаа Хойрон-Наасыриин
3. Йаа Хойрол Хаакимиин
4. Йаа Хойрол Фаатихиин
5. Йаа Хойроз-Заакириин
6. Йаа Хойрол Ваарисиин
7. Йаа Хойрол Хаамидиин
8. Йаа Хойрор-Роозикиин
9. Йаа Хойрол Фаасылиин
10. Йаа Хойрол Мухсиниин

Субхаанака йаа лаа илааһа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''1. Йаа Ман лахул-ъиззу вал-жамаал
2. Йаа Ман лахул-мулку вал-жалаал
3. Йаа Ман лахул-кудрату вал-камаал
4. Йаа Ман хувал-кабиирул-мутаъаал
5. Йаа Ман хува шадиидул-михаал
6. Йаа Ман хува шадиидул-ъикооб
7. Йаа Ман хува сарииъул-хисааб
8. Йаа Ман хува ъиндаху хуснус-савааб
9. Йаа Ман хува ъиндаху уммул-китааб
10. Йаа Ман хува йуншиус-сахаабас-сикаал

Субхаанака йаа лаа илааһа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''Ва ас'алука би асмааика
1. Йаа Ханнаан
2. Йаа Маннаан
3. Йаа Даййаан
4. Йаа Гуфроон
5. Йаа Бурхаан
6. Йаа Султоон
7. Йаа Субхаан
8. Йаа Мустаъаан
9. Йаа Зал-Манни вал байаан
10. Йаа Зал-амаан

Субхаанака йаа лаа илааһа иллаа антал амаанал амаана холлиснаа минан-наар''',

    '''
1. Йаа Ман таваадоъа куллу шайин лиъазаматиһ
2. Йаа Манистаслама куллу шайин ликудратиһ
3. Йаа Ман залла куллу шайин лиъиззатиһ
4. Йаа Ман ходоъа куллу шайин лихайбатиһ
5. Йаа Манинкоода куллу шайин лимулкатиһ
6. Йаа Ман даана куллу шайин мин махоофатиһ
7. Йаа Маниншаккатил-жибаалу мин хошйатиһ
8. Йаа Ман кооматис-самааваату би амриһ
9. Йаа Манистакорротил-арду би изниһ
10. Йаа Ман лаа йаътадии ъалаа ахли мамлакатиһ

Субхаанака йаа лаа илааһа иллаа антал амаанал амаана холлиснаа минан-наар

''',

    '''
1. Йаа Гоофирал хотоойа
2. Йаа Каашифал балаайа
3. Йаа Мунтахар-рожаайа
4. Йаа Мужзилал ъатоойа
5. Йаа Ваисиъал хадаайа
6. Йаа Роозикол бараайа
7. Йаа Коодийал манаайа
8. Йаа Саамиъаш-шакаайа
9. Йаа Бааъисас-сароойа
10. Йаа Мутликол усааро

Субхаанака йаа лаа илааһа иллаа антал амаанал амаана холлиснаа минан-наар

''',
    '''
1. Йаа Зал-хамди вас-санаа
2. Йаа Зал-мажди вас-санаа
3. Йаа Зал-фахри вал-бахаа
4. Йаа Зал-ъахди вал-вафаа
5. Йаа Зал-ъафви вар-ридоо
6. Йаа Зал-мании вал-тъатоо
7. Йаа Зал-фасли вал-кадоо
8. Йаа Зал-ъиззати вал-бакоо
9. Йаа Зал-жууди ван-нахмаа
10. Йаа Зал-фадли вал-аалаа

Субхаанака йаа лаа илааха иллаа анталь амаанал амаана холлиснаа минан-наар''',
    '''Ва ас'алука би асмааика

1. Йаа Мааниъ
2. Йаа Даафиъ
3. Йаа Наафиъ
4. Йаа Саамиъ
5. Йаа Роофиъ
6. Йаа Соониъ
7. Йаа Шаафиъ
8. Йаа Жаамиъ
9. Йаа Ваасиъ
10. Йаа Муусиъ

Субхаанака йаа лаа илааһа иллаа антал амаанал
амаана холлиснаа минан-наар
''',
    '''
1. Йаа Соониъа кулли маснууъ
2. Йаа Хоолико кулли махлуук
3. Йаа Роозико кулли марзуук
4. Йаа Маалика кулли мамлуук
5. Йаа Каашифа кулли макрууб
6. Йаа Фаарижа кулли магмуум
7. Йаа Раахима кулли мархуум
8. Йаа Наасыро кулли махзуул
9. Йаа Саатиро кулли маъйууб
10. Йаа Малжа - а кулли мазлуум

Субхаанака йаа лаа илааһа иллаа антал амаанал
амаана холлиснаа минан-наар''',

    '''
1. Йаа Ъуддатии ъинда шиддатии
2. Йаа Рожааии ъинда мусыйбатии
3. Йаа Муунисии ъинда вахшатии
4. Йаа Соохибии ъинда гурбатии
5. Йаа Валиййии ъинда ниъматии
6. Йаа Каашифии ъинда курбатии
7. Йаа Гыйаасии ъиндаф-тикоории
8. Йаа Малжа-ии ъиндад-тыроории
9. Йаа Муъиинии ъинда фазаъии
10. Йаа Далиилии ъинда хайротии

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа ЪАллаамал-гуйууб
2. Йаа Гоффаараз-зунууб
3. Йаа Саттаарол-ъуйууб
4. Йаа Кашшаафал-курууб
5. Йаа Мукаллиибал-кулууб
6. Йаа Музаййинал-кулууб
7. Йаа Мунаввирал-кулууб
8. Йаа Тоойиибал-кулууб
9. Йаа Хабиибал-кулууб
10. Йаа Аниисал-кулууб

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
Ва ас'алука би асмааика

1. Йаа Жалиил
2. Йаа Жамиил
3. Йаа Вакиил
4. Йаа Кафиил
5. Йаа Далиил
6. Йаа Мукиил
7. Йаа Хобиир
8. Йаа Латиф
9. Йаа ЪАзииз
10. Йаа Малик

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа Далиилал-мутахаййириин
2. Йаа Гыйаасал-мустагиисиин
3. Йаа Сориихол-мустасрихиин
4. Йаа Жаарал-мустажириин
5. Йаа Малжа ал-йаасиин
6. Йаа Гоофирал-музнибиин
7. Йаа Амаанал-хооифиин
8. Йаа Раахимал-масаакиин
9. Йаа Аниисал-муставхишиин
10. Йаа Мужииба даъватил-мудторриин

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа Залжууди вал ихсаан
2. Йаа Залфадли вал имтинаан
3. Йаа Зал амни вал амаан
4. Йаа Залкудси вас-субхаан
5. Йаа Залхикмати вал байаан
6. Йаа Зар-рохмати вар-ридван
7. Йаа Залхужжати вал бурхаан
8. Йаа Зал ъазомати вас-султоон
9. Йаа Зал ъафви вал гуфроон
10. Йаа Зар-ро'фати вал муста'аан

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа Ман хува Раббу кулли шай
2. Йаа Ман хува илааху кулли шай
3. Йаа Ман хува Хоолику кулли шай
4. Йаа Ман хува фавко кулли шай
5. Йаа Ман хува кобла кулли шай
6. Йаа Ман хува баъда кулли шай
7. Йаа Ман хува ЪАлииму кулли шай
8. Йаа Ман хува Коодиру кулли шай
9. Йаа Ман хува Сааниъу кулли шай
10. Йаа Ман хува йабкоо вайафнаа куллу шай

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
Ва ас'алука би асмааика

1. Йаа Му'мин
2. Йаа Мухаймин
3. Йаа Мукаввин
4. Йаа Мулаккин
5. Йаа Мубаййин
6. Йаа Мухаввин
7. Йаа Музаййин
8. Йаа Муъаззим
9. Йаа Муъаввин
10. Йаа Мулаввин

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа ман хува фии мулкихии мукиим
2. Йаа ман хува фии жалаалихии азиим
3. Йаа ман хува фии султоонихии кодииим
4. Йаа ман хува ъалаа ъабдихии рохиим
5. Йаа ман хува бикулли шайиин ъалиим
6. Йаа ман хува лиман жафааху халиим
7. Йаа ман хува лиман таражааху кариим
8. Йаа ман хува фии макоодиирихии хакиим
9. Йаа ман хува фии хукмихии латииф
10. Йаа ман хува фии лутфихии кодиир

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа ман лаа йуржаа иллаа фадлyh
2. Йаа ман лаа йухсофу иллаа ъадлyh
3. Йаа ман лаа йунътазуру иллаа биррyh
4. Йаа ман лаа йус'алу иллаа ъафвyh
5. Йаа ман лаа йадууму иллаа мулкyh
6. Йаа ман лаа султооона иллаа султаанyh
7. Йаа ман лаа бурхаана иллаа бурхаанyh
8. Йаа ман васиъат кулла шай'ин рахматуh
9. Йаа ман сабакат рахматуhу ъалаа годабиh
10. Йаа ман ахаато бикулли шай'ин ъилмуh

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''
1. Йаа Фаарижал-хамм
2. Йаа Кашфирал-гомм
3. Йаа Гоофираз-занб
4. Йаа Кообилат-тауб
5. Йаа Хооликол-холк
6. Йаа Соодикал-ваъд
7. Йаа Роозикот-тыфл
8. Йаа Мууфийал-бахд
9. Йаа ЪАалимас-сирр
10. Йаа Фааликол-хабб

Субхаанака йаа лаа илааhа иллаа антал аманаал аманаа холлиснаа минан-наар''',
    '''Фа ас'алука би асмааика 

1.Йаа Ъалийй
2.Йаа Вафийй
3.Йаа Валийй
4.Йаа Гонийй
5.Йаа Малийй
6.Йаа Закийй
7.Йаа Родийй
8.Йаа Бадийй
9.Йаа Хафийй
10.Йаа Ковийй

Субханака йаа лаа илааhа иллаа анта амаана амаана холлиснаа минан-наар''',
    '''
1.Йаа Ман азхарал-жамиил
2.Йаа Ман сатара ъалал-кобиих
3.Йаа Ман лаа йуаахизу бил-жариимах
4.Йаа Ман лаа йахтику-сситр
5.Йаа Ъазимал-ъафв
6.Йаа Хасанат-тажаавуз
7.Йаа Ваисиъал-магфира
8.Йаа Бааситол-йадайни бир-рахма
9.Йаа Соохиба кулли нажваа
10.Йаа Мунтахаа кулли шакваа

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1.Йаа Зан-ниъматис-саабигоh
2.Йаа Зар-рохматил ваасиъаh
3.Йаа Залхикматил баалигоh
4.Йаа Залкудротил каамилаh
5.Йаа Залхужжатил коотииъаh
6.Йаа Залкарооматиз-зоохироh
7.Йаа Зас-сыфатил ъаалийаh
8.Йаа Зал ъиззатид-дааимаh
9. Йаа Залкувватил матиинаh
10. Йаа Залминнатис-саабигоh

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1.Йаа Ахкамал-хаакимиин
2.Йаа Адъалал-ъаадилиин
3.Йаа Асдакос-соодикин
4.Йаа Азхараз-зоохириин
5.Йаа Атхарот-тоохириин
6.Йаа Ахсанал-хооликин
7.Йаа Асраъал-хаасибиин
8.Йаа Асмаъас-саамиъиин
9.Йаа Акрамал-акрамиин
10.Йаа Архамар-раахимиин
11.Йаа Ашфаъаш-шаафиъиин

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1.Йаа Бадииъас-самааваат
2.Йаа Жаъилаз-зулумаат
3.Йаа Ъаалимал хофиййаат
4.Йаа Роохимал ъабароот
5.Йаа Саатирол ъавароот
6.Йаа Каашифал балиййаат
7.Йаа Мужийбал амваат
8.Йаа Дооъифал хасанаат
9.Йаа Мунзилал баракаат
10.Йаа Шадиидан-накомаат

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
Ва асалука биасмааика
1.Йаа Мусоввир
2.Йаа Мукоббир
3.Йаа Мутоххир
4.Йаа Мунаввир
5.Йаа Мукоддим
6.Йаа Муаххир
7.Йаа Муйассир
8.Йаа Мунзир
9.Йаа Мубашшир
10.Йаа Мудаббир

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1.Йаа Роббал байтал хароом
2.Йаа Роббаш-шахрил хароом
3.Йаа Роббал масжидил хароом
4.Йаа Роббал баладил хароом
5.Йаа Роббар-рукни вал макоом
6.Йаа Роббал машъарил хароом
7.Йаа Роббал хилли вал хароом
8.Йаа Роббан-нуури ваз-золаам
9.Йаа Роббат-тахйиййати вассалаам
10.Йаа Роббал жалаали вал икроом

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1.Йаа Ъимаада ман лаа ъимаада лаh
2.Йаа Санада ман лаа санада лаh
3.Йаа Зухра ман лаа зухра лаh
4.Йаа Гыййаса ман лаа гыййаса лаh
5.Йаа Хизра ман лаа хизра лаh
6.Йаа Фахра ман лаа фахра лаh
7.Йаа Ъизза ман лаа ъизза лаh
8.Йаа Муъиина ман лаа муъиина лаh
9.Йаа Анииса ман лаа анииса лаh
10.Йаа Гуниййа ман лаа гуниййа лаh

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
Ва ас'алука биасмааика
1.Йаа Коиим
2.Йаа Дааим
3.Йаа Роохим
4.Йаа Хааким
5.Йаа Ъаалим
6.Йаа Ъаасым
7.Йаа Коосим
8.Йаа Саалим
9.Йаа Кообид
10.Йаа Баасит

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1.Йаа Ъаасыма-манистасъамах
2.Йаа Рахима-манистархамах
3.Йаа Наасыра-манистансарах
4.Йаа Хаафизо-манистахфазоh
5.Йаа Мукрима-манистакрамах
6.Йаа Муршида-манистаршадах
7.Йаа Муъиина-манистаъаанах
8.Йаа Мугииса-манистагоосах
9.Йаа Сарииху-манистасрохоh
10.Йаа Гоофиро-манистагфароh

Субхаанака йаа лаа илааhа иллаа антал амаанал амаана холлиснаа минан-наар''',
    '''
1. Йаа Кариимас-софхи
2. Йаа Ъазиим ал-манни
3. Йаа Касиирол хойр
4. Йаа Кодиимал фадл
5. Йаа Латиифас-сунъи
6. Йаа Дааимал-лутф
7. Йаа Наафисал карб
8. Йаа Каашифад-дурри
9. Йаа Мааликал мулк
10. Йаа Коодиийан билхакк

Субхаанака йаа лаа илааhа иллаа анта ал-амаана ал-амаана ажирнаа минан-наар''',
    '''
1. Йаа Ъазиизан лаа йудоом
2. Йаа Латиифан лаа йувроом
3. Йаа Рокиибан лаа йанаам
4. Йаа Кооиман лаа йамуут
5. Йаа Хааййан лаа йамуут
6. Йаа Мааликан лаа йазуул
7. Йаа Баакийан лаа йафнаа
8. Йаа Ъалииман лаа йажхал
9. Йаа Сомадан лаа йуътъам
10. Йаа Ковиййан лаа йуъдъаф

Субхаанака йаа лаа илааhа иллаа анта ал-амаана ал-амаана ажирнаа минан-наар''',
    '''
Ва ас'алука би асмааика

1. Йаа Ваахид
2. Йаа Ваажид
3. Йаа Шаахид
4. Йаа Маажид
5. Йаа Роошид
6. Йаа Бааъис
7. Йаа Ваарис
8. Йаа Доорр
9. Йаа Наафиъ
10. Йаа Хаадии

Субхаанака йаа лаа илааhа иллаа анта ал-амаана ал-амаана ажирнаа минан-наар''',
    '''
1. Йаа Аъзому мин кулли ъазиим
2. Йаа Акраму мин кулли кариим
3. Йаа Архаму мин кулли рохиим
4. Йаа Ахкаму мин кулли хакиим
5. Йаа Аъламу мин кулли ъалиим
6. Йаа Акдаму мин кулли кодиим
7. Йаа Акбару мин кулли кабиир
8. Йаа Ажаллу мин кулли жалиил
9. Йаа Аъаззу мин кулли ъазииз
10. Йаа Алтафу мин кулли латыыф

Субхаанака йаа лаа илааhа иллаа анта ал-амаана ал-амаана ажирнаа минан-наар''',
    '''
1. Йаа ман хува фии ъахдихии вафийй
2. Йаа ман хува фии вафааихии ковийй
3. Йаа ман хува фии кувватихии таълийй
4. Йаа ман хува фии ъулуввихии корийб
5. Йаа ман хува фии курбихии латиф
6. Йаа ман хува фии лутфихии шарийф
7. Йаа ман хува фии шарофихии тазииим
8. Йаа ман хува фии ъиззатихии тазииим
9. Йаа ман хува фии тазоммухии маджиид
10. Йаа ман хува фии мадждихии хамиид

Субхаанакa йаа лаа илааhа иллаа антал амаанал амаана ажирнаа минан-наар''',
    '''
1. Йаа Ман хува куллу шай'ин хоодийн лах
2. Йаа Ман хува куллу шай'ин кааинун лах
3. Йаа Ман хува куллу шай'ин мавжудун лах
4. Йаа Ман хува куллу шай'ин мунийдун лах
5. Йаа Ман хува куллу шай'ин мусбихун минх
6. Йаа Ман хува куллу шай'ин мусаббихун лах
7. Йаа Ман хува куллу шай'ин кооимун бинх
8. Йаа Ман хува куллу шай'ин хоошиун лах
9. Йаа Ман хува куллу шай'ин саадийун минх
10. Йаа Ман хува куллу шай'ин хааликун иллаа важхаh

Субхаанакa йаа лаа илааhа иллаа антал амаанал амаана ажирнаа минан-наар''',
    '''
Вa aс’алука би асмааика

1. Йаа Каафии
2. Йаа Шаафии
3. Йаа Ваафии
4. Йаа Муъаафии
5. Йаа Ъаалии
6. Йаа Даъии
7. Йаа Роодии
8. Йаа Коодии
9. Йаа Баакыйу
10. Йаа Хаадии

Субхаанакa йаа лаа илааhа иллаа антал амаанал амаана ажирнаа минан-наар''',
  ];

  void _nextPage() {
    setState(() {
      if (_pageNumber < _texts.length) {
        _pageNumber++;
      } else {
        _pageNumber = 1;
      }
      _appBarTitle = '$_pageNumber - баб';
      _text = _texts[_pageNumber - 1];
    });
  }

  void _previousPage() {
    setState(() {
      if (_pageNumber > 1) {
        _pageNumber--;
      } else {
        _pageNumber = _texts.length;
      }
      _appBarTitle = '$_pageNumber - баб';
      _text = _texts[_pageNumber - 1];
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        centerTitle: true,
        title: Text(
          _appBarTitle,
          style: GoogleFonts.nunito(
            color: Colors.white,
            fontWeight: FontWeight.bold,
          ),
        ),
        // backgroundColor: Color(0xff16423C),
        iconTheme: IconThemeData(color: Colors.white),
      ),
      backgroundColor: Color(0xffF2EFE7),
      drawer: AppDrawer(),
      body: Container(
        padding: EdgeInsets.all(16),
        decoration: BoxDecoration(
          image: DecorationImage(
            image: AssetImage('assets/books.jpg'),
            fit: BoxFit.cover,
          ),
        ),
        child: Center(
          child: SingleChildScrollView(
            child: RichText(
              // textAlign: TextAlign.center,
              text: TextSpan(
                style: GoogleFonts.nunito(
                  fontSize: 20,
                  fontWeight: FontWeight.bold,
                  color: Colors.red, // Основной цвет текста
                  // fontFamily: 'Roboto',
                ),
                children: _buildTextSpans(_text),
              ),
            ),
          ),
        ),
      ),
      bottomNavigationBar: BottomAppBar(
        child: Row(
          children: <Widget>[
            // Кнопка "назад"
            Expanded(
              child: InkWell(
                onTap: _previousPage,
                // ignore: deprecated_member_use
                splashColor: Colors.white.withOpacity(0.3),
                highlightColor: Colors.transparent,
                borderRadius: BorderRadius.circular(30),
                child: Container(
                  height: 70,
                  alignment: Alignment.center,
                  child: Icon(Icons.arrow_back, color: Colors.white, size: 40),
                ),
              ),
            ),
            // Кнопка выбора страницы
            SizedBox(
              width: 70,
              height: 70,
              child: InkWell(
                borderRadius: BorderRadius.circular(20),
                // ignore: deprecated_member_use
                splashColor: Colors.white.withOpacity(0.3),
                highlightColor: Colors.transparent,
                onTap: () async {
                  final selected = await showDialog<int>(
                    context: context,
                    builder:
                        (context) => _PagePickerDialog(
                          pageCount: _texts.length,
                          currentPage: _pageNumber,
                        ),
                  );
                  if (selected != null && selected != _pageNumber) {
                    setState(() {
                      _pageNumber = selected;
                      _appBarTitle = '$_pageNumber - баб';
                      _text = _texts[_pageNumber - 1];
                    });
                  }
                },
                child: Center(
                  child: Icon(Icons.menu, color: Colors.white, size: 32),
                ),
              ),
            ),
            // Кнопка "вперёд"
            Expanded(
              child: InkWell(
                onTap: _nextPage,
                // ignore: deprecated_member_use
                splashColor: Colors.white.withOpacity(0.3),
                highlightColor: Colors.transparent,
                borderRadius: BorderRadius.circular(30),
                child: Container(
                  height: 70,
                  alignment: Alignment.center,
                  child: Icon(
                    Icons.arrow_forward,
                    color: Colors.white,
                    size: 40,
                  ),
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }

  List<TextSpan> _buildTextSpans(String text) {
    List<TextSpan> spans = [];
    List<String> lines = text.split('\n');
    for (String line in lines) {
      if (line.startsWith(RegExp(r'\d+\.'))) {
        spans.add(
          TextSpan(
            text: '$line\n',
            style: TextStyle(
              color: Colors.black, // Цвет нумерованных строк
              fontWeight: FontWeight.bold,
              fontSize: 16,
            ),
          ),
        );
      } else {
        spans.add(TextSpan(text: '$line\n'));
      }
    }
    return spans;
  }
}

class _PagePickerDialog extends StatelessWidget {
  final int pageCount;
  final int currentPage;

  const _PagePickerDialog({required this.pageCount, required this.currentPage});

  @override
  Widget build(BuildContext context) {
    final isDark = Theme.of(context).brightness == Brightness.dark;
    final textColor = isDark ? Colors.white : Colors.black;

    return AlertDialog(
      backgroundColor: isDark ? const Color(0xFF232228) : null,
      title: Text(
        'Баракты тандоо',
        style: GoogleFonts.nunito(
          color: textColor,
          fontWeight: FontWeight.bold,
        ),
      ),
      content: SingleChildScrollView(
        child: ListBody(
          children: List.generate(pageCount, (index) {
            final pageNumber = index + 1;
            return RadioListTile<int>(
              title: Text(
                '$pageNumber - баб',
                style: GoogleFonts.nunito(
                  color: textColor,
                  fontWeight: FontWeight.bold,
                ),
              ),
              value: pageNumber,
              groupValue: currentPage,
              activeColor: isDark ? Colors.orange : Color(0xff16423C),
              onChanged: (value) {
                Navigator.of(context).pop(value);
              },
            );
          }),
        ),
      ),
      actions: <Widget>[
        InkWell(
          borderRadius: BorderRadius.circular(30),
          onTap: () => Navigator.of(context).pop(),
          child: Container(
            padding: const EdgeInsets.all(8),
            child: Text(
              'Жокко чыгаруу',
              style: GoogleFonts.nunito(
                color: textColor,
                fontSize: 15,
                fontWeight: FontWeight.w600,
              ),
            ),
          ),
        ),
      ],
    );
  }
}
